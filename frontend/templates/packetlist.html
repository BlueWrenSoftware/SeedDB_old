
<div class="table-responsive">
  <table class="table">
    <thead>      
      <th>Packet Code</th>
      <th>Source</th>
      <th>Date Acquired</th>
      <th>Use By</th>
      <th>Number of Seeds</th>
      <th>Location</th>
      <th></th>
    </thead>
    <tbody>
      <tr ng-repeat="packet in vm.packets">	
	<td>
	  <bw-edit-label bw-is-editing="view.editPacketCode[$index]"
			 bw-model="packet.packetCode"
			 bw-type="text">
	    {{packet.packetCode}}
	  </bw-edit-label>
	</td>
	<td>
	  <label class="btn btn-default"
		 ng-click="view.editCompany[$index] = true"
		 ng-hide="view.editCompany[$index]">
	    {{packet.company.companyName}}
	  </label>
	  <form ng-submit="view.editCompany[$index] =false">
	    <select ng-model="packet.company"
		    ng-options="company._companyName for company in vm.companies track by company.companyId"
		    ng-show="view.editCompany[$index]"
		    ng-blur="view.editCompany[$index] = false"
		    wren-focus-on="view.editCompany[$index]"
		    class="form-control"
		    >
	    </select>
	  </form>
	</td>
	<td>
	  <bw-date-label bw-is-editing="view.editDatePurchased[$index]"
			 bw-model="packet.datePurchased">
	    {{packet.datePurchased}}
	  </bw-date-label>	  
	</td>
	<td>
	  <bw-date-label bw-is-editing="view.editDateUseBy[$index]"
			 bw-model="packet.dateUseBy">
	    {{packet.dateUseBy}}
	  </bw-date-label>	  
	</td>
	<td>
	  <bw-edit-label bw-is-editing="view.editSeedCount[$index]"
			 bw-model="packet.seedCount"
			 bw-type="number">
	    {{packet.seedCount}}
	  </bw-edit-label>	  
	</td>
	<td>
	  <bw-edit-label bw-is-editing="view.editStorageLocation[$index]"
			 bw-model="packet.storageLocation"
			 bw-type="text">
	    {{packet.storageLocation}}
	  </bw-edit-label>	  
	</td>
	<td>
	  <button class="btn btn-primary">
	    <i class="fa fa-arrow-circle-right"></i>
	  </button>
	</td>
      </tr>
      <tr>
	<td>
	  <bw-edit-label bw-is.editing="view.newPacket.editPacketCode"
			 bw-model="vm.newPacket.packetCode">
	    {{vm.newPacket.packetCode}}
	  </bw-edit-label>
	</td>
	<td>
	  <select class="form-control"
		  ng-model="vm.newPacket.company"
		  ng-options="company._companyName for company in vm.companies track by company.companyId"
		  wren-blur-on-enter
		  >
	  </select>
	</td>
	<td>
	  <bw-date-label bw-is-editing="view.newPacket.editDatePurchased"
			 bw-model="vm.newPacket.datePurchased">
	    {{vm.newPacket.datePurchased}}
	  </bw-date-label>	  
	</td>
	<td>
	  <bw-date-label bw-is-editing="view.newPacket.editDateUseBy"
			 bw-model="vm.newPacket.dateUseBy">
	    {{vm.newPacket.dateUseBy}}
	  </bw-date-label>	  
	</td>	
	<td>
	  <bw-edit-label bw-is-editing="view.newPacket.editSeedCount"
			 bw-model="vm.newPacket.seedCount"
			 bw-type="number">
	    {{vm.newPacket.seedCount}}
	  </bw-edit-label>	  
	</td>
	<td>
	  <bw-edit-label bw-is-editing="view.newPacket.editStorageLocation"
			 bw-model="vm.newPacket.storageLocation"
			 bw-type="text">
	    {{vm.newPacket.storageLocation}}
	  </bw-edit-label>	  
	</td>
	<td>
	  <button type="submit" class="btn btn-success"
		  ng-click="controls.addNewPacket()">
	    <i class="fa fa-plus-square"></i>
	  </button>
	</td>	
      </tr>
    </tbody>
  </table>
</div>
